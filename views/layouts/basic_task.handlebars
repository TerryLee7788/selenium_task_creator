var lib_list = require('../../lib/basic_libs').lib(global);

test.describe('{{describe}}', function() {
  var url = '{{url}}',
      lang = '?lang={{lang}}',
      driver,

  tryAsyn = function (done) {
    var timer = 2000;
    setTimeout(done, timer);
  };

  this.timeout(current_timer);

  test.before(function () {
    driver = new webdriver.Builder().
              forBrowser('chrome').
              build();
  });

  test.after(function () {
    driver.close();
  });

  test.beforeEach(tryAsyn);

  test.it('fullscreen', function () {
    driver.manage().window().maximize();
  });

  test.it('open url', function () {
    driver.get(url + lang);
  });{{!--
--}}
{{#each it}}
  test.it('{{it_name}}', function () { {{!--
--}}{{#each events}}
    {{#if basic}}{{!--
  --}}{{#if reg}}reg{{/if}}{{!--
  --}}{{#if login}}login{{/if}}{{!--
  --}}{{#if order}}order{{/if}}{{!--
--}}{{/if}}{{!--

  --}}{{#if action}}{{!--
    --}}{{#if click}}{{!--
      --}}driver.findElement(By.{{by}}('{{findElement}}')).click();{{!--
    --}}{{/if}}{{!--

    --}}{{#if sendKey}}{{!--
      --}}driver.findElement(By.{{by}}('{{findElement}}')).sendKeys(['{{sendKeys}}']);{{!--
    --}}{{/if}}{{!--

    --}}{{#if clear}}{{!--
      --}}driver.findElement(By.{{by}}('{{findElement}}')).clear();{{!--
    --}}{{/if}}{{!--
  --}}{{/if}}{{!--

  --}}{{#if check}}{{!--
    --}}{{#if elementIsVisible}}{{!--
        --}}driver.wait(until.elementIsVisible(driver.findElement(By.id("{{functions_keys}}"))), 2000);{{!--
    --}}{{/if}}{{!--

    --}}{{#if elementTextContains}}{{!--
        --}}driver.wait(until.elementTextContains(driver.findElement(By.id("{{functions_keys}}")), "{{sendKeys}}"), 5000);{{!--
    --}}{{/if}}{{!--

    --}}{{#if titleContains}}{{!--
        --}}driver.wait(until.titleContains("{{functions_keys}}"), 3000);{{!--
    --}}{{/if}}{{!--
  --}}{{/if}}{{!--
--}}{{/each}}
  });
{{/each}}
});